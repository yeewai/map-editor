'use strict';

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactRedux = require('react-redux');

var _enzyme = require('enzyme');

var _enzyme2 = _interopRequireDefault(_enzyme);

var _enzymeAdapterReact = require('enzyme-adapter-react-16');

var _enzymeAdapterReact2 = _interopRequireDefault(_enzymeAdapterReact);

var _reduxMockStore = require('redux-mock-store');

var _reduxMockStore2 = _interopRequireDefault(_reduxMockStore);

var _sinon = require('sinon');

var _sinon2 = _interopRequireDefault(_sinon);

var _OpenModalButton = require('./OpenModalButton');

var _OpenModalButton2 = _interopRequireDefault(_OpenModalButton);

var _index = require('../index');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var mockStore = (0, _reduxMockStore2.default)();
_enzyme2.default.configure({ adapter: new _enzymeAdapterReact2.default() });

describe("Open Modal Button", function () {
    it('should call show modal action', function () {
        var dispatchSpy = _sinon2.default.spy();

        var _mapDispatchToProps = (0, _OpenModalButton.mapDispatchToProps)(dispatchSpy),
            openModal = _mapDispatchToProps.openModal;

        openModal(undefined, undefined, { preventDefault: function preventDefault() {} });
        var expectedAction = _index.modalActions.showModal();
        var spyLastCall = dispatchSpy.args[0][0];

        expect(spyLastCall.type).toBe(expectedAction.type);
        expect(spyLastCall.type).toBeDefined();
    });

    it("calls openModal on click", function () {
        var store = mockStore({});
        store.dispatch = _sinon2.default.spy();
        var wrapper = (0, _enzyme.mount)(_react2.default.createElement(_OpenModalButton2.default, { store: store, modalType: '' }));
        wrapper.simulate("click");

        expect(store.dispatch.called).toBe(true);
    });
});